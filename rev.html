<!DOCTYPE html>
<html>
    <head>
        <meta name ="viewport" content = "widht-device-widht , initialesclae=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
	
	<script src='rev.js'></script>
	
        <div class="container">
            <h1>Management of commande</h1>
            <ul class="nav nav-tabs">
                <li class="nav-item active">
                    <a class="nav-link active" data-toogle="tabs" href="#home">Command</a>
                </li>
                <li>
                    <a class="nav-link" href="menu1" data-toogle="tabs" >Clients</a>
                </li>
                <li>
                    <a class="nav-link" href="menu2" data-toogle="tabs">Activites</a>
                </li>
            </ul>
            <hr>
           
		 <table class="table table-hover">
                <thead>
                    <div class="tab-content" class="tab-pane fade active show ">
                    <div id="home">
                        <h5> <img src="images/cont.png" id="image">Add product</h5>
                    </div>
                    <tr>
                      <td>
                          <div class="form-group">
                              <input type="txt" placeholder="Write your designation" id="des" class="form-control" >
                          </div>
                      </td>
                      <td>
                          <div class="form-group">
                              <input type="text"  placeholder="Price" id="prix" class="form-control" >
                          </div>
                      </td>
                      <td>
                        <div class="form-group">
                            <input type="text" placeholder="Amount" id="qte" class="form-control">
                        </div>
                    </td>
                      <td>
                         <button type="submit" id="bto" class="btn  btn-primary btn-sm" >Add</button>
                      </td>
                    </tr>
                    </div>
</div>

                </thead>
                <tbody>

                </tbody>
            </table>
            <hr>
	<table id="table_product" class="table table-hover">
             <thead>
                    <th id="id">Id</th>
                    <th id="designation">Designation</th>
                    <th id="prix">Price</th>
                    <th>Amount</th>
                    <th>Total</th>
                    <th>Options</th>
                </thead>
                	
	 <tbody id="conten"></tbody>	
</table>
<hr>
<br>
<div id='menu1' class='tab-pane fade'></div>
            <div id='menu2' class='tab-pane fade'></div>
            <div id='menu3' class='tab-pane fade'></div>
        </div>
        <button id='totalprice' class='btn btn-primary'>
            validate the order</button>
            <input type="number" id="total" value="0" disabled/>
        <input type="text" placeholder='Rising input' class='form-control' id='donner'>
        <br><br>
        <button id='validate' class='btn btn-primary'>Total Due</button>
        
        
    </div>
    </body>
    <script>
            const table = document.getElementById("table_product");
            $("#bto").click(function (){
              const des = $("#des").val();
              const prix = $("#prix").val();  
              const quantite = $("#qte").val();
           
              idd = id++;
              $("#conten").append("<tr>"
                +"<td>"+idd+"</td>"
                +"<td>"+des+"</td>"
                +"<td id='myprice'>"+prix+"</td>"
                +"<td>"+quantite+"</td>"
                +"<td>"+(prix * +quantite).toString()+"</td>"
                +"<td>"+
                    "<button class='btn btn-primary plus' onclick='plus("+idd+")'>+</button>"+
                    "<button class='btn btn-danger minus' onclick='minus("+idd+")'>-</button>"
                    +"</td>"+
                    
                "</tr>");
            });
            function plus(a)
            {
               
                q = table.rows[a+1].cells[3].innerHTML++;
                $('#qte').val=q;
                prix = $('#prix').val();
                 table.rows[a+1].cells[4].innerHTML=prix*table.rows[a+1].cells[3].innerHTML;
                 let sum=0;
               
                
            }
            function minus(a)
            {
               
                q = table.rows[a+1].cells[3].innerHTML--;
                $('#qte').val=q;
                prix = $('#prix').val();
                table.rows[a+1].cells[4].innerHTML=prix*table.rows[a+1].cells[3].innerHTML;
            }
            $("#totalprice").click(function(){
                let table = document.getElementById("table_product");
               
                
            });

   
                let a=0;
               $("#totalprice").click(function(){    
                let taille = table.rows.length-1;
                let i = 1;
                let sum=0;
                do{
                    sum+=parseFloat(table.rows[i].cells[4].innerHTML);
                    i++;
                    
                }
                while(taille>=i); 
                alert(sum);
                });            

        
  
        </script>
        </html>
        
        


